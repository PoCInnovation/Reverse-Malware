// The current scope is always scope[0]
// scope [{'name' : 'content', 'othername': 'othercontent'}]

class Scope {
    constructor() {
        this.depth = 0;
        this.scope = [{}];
    }

    getElementFromScope(name) {
        for (let i = 0; i < this.scope.length; i++) {
            if (name in this.scope[i])
                return this.scope[i][name];
        }
        return null;
    }

    setElementInScope(name, content) {
        this.scope[0][name] = content;
    }

    inc() {
        this.depth++;
        this.scope.unshift({})
    }

    dec() {
        if (this.depth <= 0)
            return;
        this.depth--;
        this.scope.shift()
    }

    getCurScope() {
        return this.depth;
    }
};

module.exports = { Scope };
